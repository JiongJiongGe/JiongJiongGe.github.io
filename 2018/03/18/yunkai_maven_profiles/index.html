<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>é€šè¿‡é…ç½®Mavençš„profileså®ç°ä¸åŒç¯å¢ƒçš„æ‰“åŒ…ï¼Œä»¥å‡å°‘ä¿®æ”¹é…ç½®æ–‡ä»¶çš„åŠ¨ä½œ | å®ˆå¾—äº‘å¼€è§æœˆæ˜ | åœ¨ITæµ·æ´‹æ‰“æ»šçš„å°ğŸ³</title>

  
  <meta name="author" content="äº‘å¼€">
  

  
  <meta name="description" content="åœ¨ITæµ·æ´‹æ‰“æ»šçš„å°ğŸ³">
  

  
  
  <meta name="keywords" content="Maven,SpringBoot">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="é€šè¿‡é…ç½®Mavençš„profileså®ç°ä¸åŒç¯å¢ƒçš„æ‰“åŒ…ï¼Œä»¥å‡å°‘ä¿®æ”¹é…ç½®æ–‡ä»¶çš„åŠ¨ä½œ"/>

  <meta property="og:site_name" content="å®ˆå¾—äº‘å¼€è§æœˆæ˜"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="å®ˆå¾—äº‘å¼€è§æœˆæ˜" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">å®ˆå¾—äº‘å¼€è§æœˆæ˜</a>
    </h1>
    <p class="site-description">åœ¨ITæµ·æ´‹æ‰“æ»šçš„å°ğŸ³</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">é¦–é¡µ</a></li>
      
        <li><a href="/about">å…³äº</a></li>
      
        <li><a href="/archives">å½’æ¡£</a></li>
      
        <li><a href="/tags">æ ‡ç­¾</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>é€šè¿‡é…ç½®Mavençš„profileså®ç°ä¸åŒç¯å¢ƒçš„æ‰“åŒ…ï¼Œä»¥å‡å°‘ä¿®æ”¹é…ç½®æ–‡ä»¶çš„åŠ¨ä½œ</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/03/18/yunkai_maven_profiles/" rel="bookmark">
        <time class="entry-date published" datetime="2018-03-18T06:35:20.000Z">
          2018-03-18
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>åœ¨å®é™…çš„è½¯ä»¶å¼€å‘ä¸­ï¼Œé¡¹ç›®åœ¨å¼€å‘ç¯å¢ƒå’Œéƒ¨ç½²ç¯å¢ƒä¸­ï¼Œé…ç½®æ–‡ä»¶å¤šå¤šå°‘å°‘ä¼šå­˜åœ¨ä¸€äº›å·®å¼‚ï¼Œä¾‹å¦‚ï¼šæ•°æ®åº“çš„é…ç½®ä¿¡æ¯ã€è¿è¡Œç«¯å£ç­‰ã€‚å¦‚æœéœ€è¦å¼€å‘çš„ç«¥é‹æ ¹æ®éƒ¨ç½²çš„ç¯å¢ƒï¼Œå»ä¿®æ”¹å¯¹åº”çš„é…ç½®ä¿¡æ¯çš„è¯ï¼Œæ— ç–‘ä¼šå¢åŠ éƒ¨ç½²æ—¶é—´ï¼ŒåŒæ—¶ä¹Ÿä¼šå¢åŠ éƒ¨ç½²é”™è¯¯çš„é£é™©ã€‚<br><a id="more"></a></p>
<h2 id="Mavenä»‹ç»"><a href="#Mavenä»‹ç»" class="headerlink" title="Mavenä»‹ç»"></a>Mavenä»‹ç»</h2><p>å®˜ç½‘ä»‹ç»ï¼š<br>Apache Maven is a software project management and comprehension tool. Based on the concept of a project object model (POM), Maven can manage a projectâ€™s build, reporting and documentation from a central piece of information</p>
<p>ä¸­æ–‡ç¿»è¯‘ï¼š<br>Apache Mavenæ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†å’Œç†è§£å·¥å…·ï¼Œå®ƒåŸºäºé¡¹ç›®å¯¹è±¡æ¨¡å‹(POM)çš„æ¦‚å¿µï¼Œå®ƒå¯ä»¥ç®¡ç†é¡¹ç›®çš„æ„å»ºã€æŠ¥å‘Šå’Œæ–‡æ¡£ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±é€šè¿‡Mavençš„profilesé…ç½®ï¼Œæ¥å®ç°ä¸ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¯¹ä¸åŒç¯å¢ƒæ‰“åŒ…ã€‚</p>
<h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><p>ç”±äºä¸åŒçš„å·¥ç¨‹é…ç½®æ–‡ä»¶ä¼šæœ‰å·®å¼‚ï¼Œæ•…åœ¨æ­¤ç¯‡ä¸­ï¼Œä¸»è¦ä»¥æ•°æ®åº“é…ç½®ä¿¡æ¯çš„å·®å¼‚æ¥è´¯å½»ã€‚</p>
<h4 id="ä¸€ã€æ„å»ºé¡¹ç›®"><a href="#ä¸€ã€æ„å»ºé¡¹ç›®" class="headerlink" title="ä¸€ã€æ„å»ºé¡¹ç›®"></a>ä¸€ã€æ„å»ºé¡¹ç›®</h4><p>æ„å»ºDomianã€Mapperã€Serviceã€Controllerå±‚ï¼Œç›¸ä¿¡ç«¥é‹çš„æ°´å¹³éƒ½æ˜¯æ£’æ£’çš„ï¼Œè¿™è¾¹å°±ä¸ä¸€ä¸€ç½—åˆ—å¯¹åº”çš„æ–¹æ³•ï¼Œæˆ‘æ˜¯é€šè¿‡è·å–ç”¨æˆ·åˆ—è¡¨ä¿¡æ¯æ¥æŸ¥çœ‹æ˜¯å¦é…ç½®æˆåŠŸã€‚(æˆ‘åœ¨ä¸¤ä¸ªç¯å¢ƒçš„DBä¸­ï¼Œæ·»åŠ äº†ä¸åŒçš„ç”¨æˆ·ä¿¡æ¯)</p>
<h4 id="äºŒã€é…ç½®ä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶"><a href="#äºŒã€é…ç½®ä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶" class="headerlink" title="äºŒã€é…ç½®ä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶"></a>äºŒã€é…ç½®ä¸åŒç¯å¢ƒçš„é…ç½®æ–‡ä»¶</h4><p><img src="http://obbgpy87z.bkt.clouddn.com/blog_maven_1.png" alt="é¡¹ç›®ç¯å¢ƒ"></p>
<p>è¯´æ˜ï¼š<br>åœ¨resourcesç›®å½•ä¸‹ï¼Œå¢åŠ devå’Œproduceä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾ä¸åŒçš„é…ç½®æ–‡ä»¶ã€‚</p>
<p><strong>application.propertiesæ–‡ä»¶ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">server.port = 8911</span><br><span class="line"></span><br><span class="line">spring.datasource.driver-class-name = com.mysql.jdbc.Driver</span><br><span class="line">spring.datasource.url = jdbc:mysql://localhost:3306/db_setting_dev?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=false</span><br><span class="line">spring.datasource.username = root</span><br><span class="line">spring.datasource.password = yunkai</span><br><span class="line"></span><br><span class="line">logging.file = env.setting.log</span><br><span class="line">logging.level.org.springframework.web = INFO</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š<br>ä¸¤ä¸ªapplication.propertiesæ–‡ä»¶ï¼Œåªæœ‰spring.datasource.urlä¸åŒï¼Œè¡¨ç¤ºé“¾æ¥ä¸åŒçš„æ•°æ®åº“ï¼Œå…¶ä»–å†…å®¹ç›¸åŒã€‚</p>
<h4 id="ä¸‰ã€é…ç½®Mavençš„pom-xmlæ–‡ä»¶ï¼Œä½¿ç”¨profilesæ ‡ç­¾ï¼Œå®Œæˆå¯¹ä¸åŒç¯å¢ƒæ‰“åŒ…çš„ç¼–å†™"><a href="#ä¸‰ã€é…ç½®Mavençš„pom-xmlæ–‡ä»¶ï¼Œä½¿ç”¨profilesæ ‡ç­¾ï¼Œå®Œæˆå¯¹ä¸åŒç¯å¢ƒæ‰“åŒ…çš„ç¼–å†™" class="headerlink" title="ä¸‰ã€é…ç½®Mavençš„pom.xmlæ–‡ä»¶ï¼Œä½¿ç”¨profilesæ ‡ç­¾ï¼Œå®Œæˆå¯¹ä¸åŒç¯å¢ƒæ‰“åŒ…çš„ç¼–å†™"></a>ä¸‰ã€é…ç½®Mavençš„pom.xmlæ–‡ä»¶ï¼Œä½¿ç”¨profilesæ ‡ç­¾ï¼Œå®Œæˆå¯¹ä¸åŒç¯å¢ƒæ‰“åŒ…çš„ç¼–å†™</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;profiles&gt;</span><br><span class="line">	&lt;profile&gt;</span><br><span class="line">		&lt;id&gt;dev&lt;/id&gt;</span><br><span class="line">		&lt;properties&gt;</span><br><span class="line">		   &lt;profileActive&gt;dev&lt;/profileActive&gt;</span><br><span class="line">		&lt;/properties&gt;</span><br><span class="line">          &lt;avtivation&gt;</span><br><span class="line">		   &lt;avtiveByDefault&gt;dev&lt;/avtiveByDefault&gt;</span><br><span class="line">		&lt;/avtivation&gt;</span><br><span class="line">	&lt;/profile&gt;</span><br><span class="line">	&lt;profile&gt;</span><br><span class="line">		&lt;id&gt;produce&lt;/id&gt;</span><br><span class="line">		&lt;properties&gt;</span><br><span class="line">		   &lt;profileActive&gt;produce&lt;/profileActive&gt;</span><br><span class="line">		&lt;/properties&gt;</span><br><span class="line">	&lt;/profile&gt;</span><br><span class="line">&lt;/profiles&gt;</span><br><span class="line"></span><br><span class="line">&lt;build&gt;</span><br><span class="line">	&lt;resources&gt;</span><br><span class="line">		&lt;resource&gt;</span><br><span class="line">			&lt;directory&gt;src/main/resources&lt;/directory&gt;</span><br><span class="line">			&lt;excludes&gt;</span><br><span class="line">				&lt;exclude&gt;dev/application.properties&lt;/exclude&gt;</span><br><span class="line">			   &lt;exclude&gt;produce/application.properties&lt;/exclude&gt;</span><br><span class="line">			&lt;/excludes&gt;</span><br><span class="line">		&lt;/resource&gt;</span><br><span class="line">		&lt;resource&gt;</span><br><span class="line">			&lt;directory&gt;src/main/resources/$&#123;profileActive&#125;&lt;/directory&gt;</span><br><span class="line">			&lt;includes&gt;</span><br><span class="line">				&lt;include&gt;application.properties&lt;/include&gt;</span><br><span class="line">			&lt;/includes&gt;</span><br><span class="line">		&lt;/resource&gt;</span><br><span class="line">	&lt;/resources&gt;</span><br><span class="line">&lt;/build&gt;</span><br></pre></td></tr></table></figure>
<p><strong>æè¿°ï¼š</strong><br>devå¼€å‘ç¯å¢ƒã€produceéƒ¨ç½²ç¯å¢ƒï¼Œå¯¹äºdevå¼€å‘ç¯å¢ƒéœ€åŠ è½½dev/application.propertiesï¼Œè€Œå¯¹äºproduceéƒ¨ç½²ç¯å¢ƒæ¥è®²ï¼Œåˆ™éœ€åŠ è½½produce/application.propertiesçš„é…ç½®æ–‡ä»¶ã€‚</p>
<p><strong>æ ‡ç­¾è¯´æ˜ï¼š</strong><br>1ã€profiles profileå®šä¹‰ä¸åŒç¯å¢ƒçš„å‚æ•°å˜é‡ï¼›<br>2ã€<activebydefault>true</activebydefault> è®¾å®šä¸ºé»˜è®¤æ¿€æ´»å‚æ•°ï¼Œå³æ‰“åŒ…æ—¶ï¼Œå¦‚æœä¸æŒ‡å®šå¯¹åº”çš„ç¯å¢ƒä¿¡æ¯ï¼Œåˆ™åŠ è½½devä¸‹çš„ç¯å¢ƒå˜äº†ï¼›<br>3ã€build resources åˆ™è¡¨ç¤ºæ‰“åŒ…æ—¶ï¼Œéœ€è¦åŠ è½½çš„èµ„æºæ–‡ä»¶ï¼›<br>4ã€excludes exclude è¡¨ç¤ºæ‰“åŒ…æ—¶ï¼Œåœ¨åŠ è½½src/main/resourcesæ–‡ä»¶å¤¹ä¸‹çš„èµ„æºæ—¶ï¼Œè¿‡æ»¤æ‰dev/application.propertieså’Œproduce/application.propertiesæ–‡ä»¶ã€‚<br>5ã€${profileActive}ï¼Œåˆ™æ˜¯å¯å˜å‚æ•°ï¼Œå¦‚æœmvn clean packageæ—¶æœªæŒ‡å®šæ—¶ï¼Œåˆ™ä¸º<activebydefault>true</activebydefault>ä¿®é¥°çš„å˜é‡ï¼Œå½“mvn clean  package -P produceæŒ‡å®šå¯¹åº”çš„å‚æ•°æ—¶ï¼Œåˆ™ä¸ºæŒ‡å®šå€¼ã€‚</p>
<h4 id="å››ã€mvn-clean-package-P-dev"><a href="#å››ã€mvn-clean-package-P-dev" class="headerlink" title="å››ã€mvn clean package -P dev"></a>å››ã€mvn clean package -P dev</h4><p>æ ¹æ®éƒ¨ç½²çš„ç¯å¢ƒï¼Œå¯¹é¡¹ç›®è¿›è¡Œæ‰“åŒ…ï¼Œ -P åé¢çš„å†…å®¹åç§°ä¸ºprofiles profile idå¯¹åº”çš„ä¿¡æ¯ï¼Œä»è€Œèƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”é€‚åˆçš„é…ç½®æ–‡ä»¶ã€‚</p>
<h4 id="äº”ã€è¿è¡Œç»“æœ"><a href="#äº”ã€è¿è¡Œç»“æœ" class="headerlink" title="äº”ã€è¿è¡Œç»“æœ"></a>äº”ã€è¿è¡Œç»“æœ</h4><p><img src="http://obbgpy87z.bkt.clouddn.com/blog_maven_2.png" alt="1"></p>
<p><img src="http://obbgpy87z.bkt.clouddn.com/blog_maven_3.png" alt="2"></p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡è¿™æ ·çš„é…ç½®ï¼Œå¯ä»¥å…å»å¼€å‘çš„ç«¥é‹é¢‘ç¹åˆ‡æ¢é…ç½®æ–‡ä»¶ï¼Œå¸Œæœ›å¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚æœ€åï¼Œå†œå†äºŒæœˆåˆäºŒï¼Œæ³¨å®šæ˜¯ä¸ªä¸å¹³å‡¡çš„æ—¥å­ï¼ŒCRRï¼ŒEverying will be wellã€‚ç«¥é‹ä»¬å¦‚æœæœ‰æ›´å¥½çš„ç†è§£å¯ä»¥åŠ æˆ‘å¾®ä¿¡ï¼šwjd632479475ï¼Œå¸Œæœ›èƒ½å’Œä½ è®¤è¯†ã€‚å¤§å®¶ï¼Œä¸‹æ¬¡è§ã€‚</p>
<p>é™„<a href="https://github.com/JiongJiongGe/env.setting" target="_blank" rel="noopener">GitHubé¡¹ç›®é“¾æ¥åœ°å€</a></p>
<p>LINKSï¼š<br><a href="https://maven.apache.org/" target="_blank" rel="noopener">Mavenå®˜ç½‘</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Maven/">Maven</a><a href="/tags/SpringBoot/">SpringBoot</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2018 äº‘å¼€
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>