<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hessianè¿œç¨‹è°ƒç”¨æœåŠ¡å®ç° | å®ˆå¾—äº‘å¼€è§æœˆæ˜ | åœ¨ITæµ·æ´‹æ‰“æ»šçš„å°ğŸ³</title>

  
  <meta name="author" content="äº‘å¼€">
  

  
  <meta name="description" content="åœ¨ITæµ·æ´‹æ‰“æ»šçš„å°ğŸ³">
  

  
  
  <meta name="keywords" content="hessian">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Hessianè¿œç¨‹è°ƒç”¨æœåŠ¡å®ç°"/>

  <meta property="og:site_name" content="å®ˆå¾—äº‘å¼€è§æœˆæ˜"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="å®ˆå¾—äº‘å¼€è§æœˆæ˜" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">å®ˆå¾—äº‘å¼€è§æœˆæ˜</a>
    </h1>
    <p class="site-description">åœ¨ITæµ·æ´‹æ‰“æ»šçš„å°ğŸ³</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">é¦–é¡µ</a></li>
      
        <li><a href="/about">å…³äº</a></li>
      
        <li><a href="/archives">å½’æ¡£</a></li>
      
        <li><a href="/tags">æ ‡ç­¾</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>Hessianè¿œç¨‹è°ƒç”¨æœåŠ¡å®ç°</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/10/13/yunkai_hessian/" rel="bookmark">
        <time class="entry-date published" datetime="2017-10-13T10:48:10.000Z">
          2017-10-13
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>Hessianè°ƒç”¨æ˜¯åŸºäºHTTPçš„è½»é‡çº§è¿œç¨‹æœåŠ¡è°ƒç”¨ï¼Œæä¾›äº†è¾ƒè½»é‡çš„æ–¹æ³•å®ç°äº†RMI(è¿œç¨‹æ–¹æ³•è°ƒç”¨)çš„åŠŸèƒ½ï¼Œä¸WebServiceç›¸æ¯”ï¼ŒHessianæ›´ç®€å•ã€å¿«æ·ã€‚Hessiané‡‡ç”¨äº†äºŒè¿›åˆ¶åè®®ï¼Œå› æ­¤å®ƒæ›´é€‚åˆäºå‘é€äºŒè¿›åˆ¶æ•°æ®ã€‚å¾€ç®€å•äº†è¯´ï¼ŒHessianæ”¯æŒæä¾›è‡ªå®šä¹‰APIæ¥å£æ–¹æ³•ä¾›å·¥ç¨‹é—´çš„è¿œç¨‹è°ƒç”¨ã€‚</p>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><p>ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œå› ä¸šåŠ¡éœ€æ±‚éœ€è¦ï¼Œå¼€å‘äº†Aå’ŒBä¸¤ä¸ªç³»ç»Ÿï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰ä¸ç”¨æˆ·ç›¸å…³çš„éƒ½åœ¨Aç³»ç»Ÿä¸­ï¼Œå…¶ä¸­å°±æœ‰ä¸ªæ·»åŠ ç”¨æˆ·çš„æ–¹æ³•ã€‚å½“Bç³»ç»Ÿè¦å®ç°æ·»åŠ ç”¨æˆ·çš„éœ€æ±‚æ—¶ï¼Œæœ‰ä¸€ä¸ªç®€å•ç²—æš´çš„æ–¹æ³•ï¼Œå°±æ˜¯æŠŠAç³»ç»Ÿä¸­æ·»åŠ ç”¨æˆ·çš„æ–¹æ³•ä¸€æ‘¸ä¸€æ ·æ‹·è´ä¸€ä»½åˆ°Bç³»ç»Ÿï¼Œè¿™æ ·çš„å¼Šç«¯ç›¸ä¿¡å¤§å®¶éƒ½æ·±æœ‰ä½“ä¼šï¼Œå°±æ˜¯ä»¥åç»´æŠ¤æ­¤æ–¹æ³•æ—¶ï¼Œéœ€è¦åŒæ—¶ç»´æŠ¤ä¸¤ä¸ªç³»ç»Ÿçš„åŠŸèƒ½ä»£ç ã€‚<a id="more"></a><br>å½“ç„¶ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•ä¸æ­¢ä¸€ç§ï¼Œä¾‹å¦‚ï¼šé‡‡å–jaråŒ…çš„å¼•ç”¨ã€‚å½“ç„¶ï¼Œçœ‹äº†æ ‡é¢˜çš„ç«¥é‹ä»¬è‚¯å®šçŸ¥é“ï¼Œåœ¨æ­¤ç¯‡ä¸­ï¼Œæˆ‘ä»¬ä¼šé‡‡ç”¨Hessiançš„å½¢å¼ï¼Œè§£å†³ä¸Šè¿°çš„é—®é¢˜ã€‚</p>
<h2 id="å®è·µ"><a href="#å®è·µ" class="headerlink" title="å®è·µ"></a>å®è·µ</h2><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><p>JDK 1.8.0_131ã€MAVEN apache-maven-3.5.0</p>
<h3 id="æŠ€æœ¯æ ˆ"><a href="#æŠ€æœ¯æ ˆ" class="headerlink" title="æŠ€æœ¯æ ˆ"></a>æŠ€æœ¯æ ˆ</h3><p>SpringBootã€Mybatisã€Hessian</p>
<h3 id="å¼€å‘å·¥å…·"><a href="#å¼€å‘å·¥å…·" class="headerlink" title="å¼€å‘å·¥å…·"></a>å¼€å‘å·¥å…·</h3><p>IntelliJ IDEA 2(å¼€å‘å·¥å…·å¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„å–œå¥½è€Œå®š)</p>
<h3 id="å®è·µè¿‡ç¨‹"><a href="#å®è·µè¿‡ç¨‹" class="headerlink" title="å®è·µè¿‡ç¨‹"></a>å®è·µè¿‡ç¨‹</h3><p>ç”±äºæ¶‰åŠåˆ°Hessianæä¾›APIä»¥åŠè°ƒç”¨APIä¸¤ä¸ªæœåŠ¡ï¼Œå› æ­¤æˆ‘åˆ›å»ºäº†ä¸¤ä¸ªå·¥ç¨‹ï¼Œåˆ†åˆ«ä¸ºHessian_Serverå’ŒHessian_Clientï¼Œç›¸ä¿¡å¤§å®¶å¯ä»¥ä»å‘½åä¸­å°±èƒ½æ¸…æ¥šå·¥ç¨‹åˆ†åˆ«æ‹…ä»»çš„è§’è‰²ã€‚ç”±äºè¿™ä¸¤ä¸ªå·¥ç¨‹ä¸»è¦æ˜¯ä¸ºå®ç°Hessianè¿œç¨‹è°ƒç”¨ï¼Œå› æ­¤Modelå’ŒDaoæ²¡æœ‰åšæŠ½ç¦»ï¼Œæœ‰å…´è¶£çš„ç«¥é‹å¯ä»¥è‡ªå·±å®ç°ä¸‹ã€‚<br>ä¸€ã€æ–°å»ºSpringBooté¡¹ç›®ï¼Œå¹¶åŠ å…¥Hessian jaråŒ…ä¾èµ–ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">   &lt;groupId&gt;com.caucho&lt;/groupId&gt;</span><br><span class="line">   &lt;artifactId&gt;hessian&lt;/artifactId&gt;</span><br><span class="line">   &lt;version&gt;4.0.38&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></p>
<p>äºŒã€æ„å»ºCalmWangUserModelç”¨æˆ·å¯¹è±¡ï¼Œä»¥åŠå¯¹åº”çš„Daoå±‚ã€‚Hessian_Serveréœ€å®šä¹‰Serviceæ¥å£ä»¥åŠæ¥å£çš„å®ç°æ–¹æ³•ï¼Œè€ŒHessian_Clientåˆ™åªéœ€å®šä¹‰Serviceæ¥å£ï¼Œè€Œæ— éœ€å®šä¹‰æ¥å£å®ç°æ–¹æ³•ï¼Œå½“é€»è¾‘ä¸­ä½¿ç”¨æ¥å£æ–¹æ³•æ—¶ï¼Œä¼šé€šè¿‡Hessiançš„è¿œç¨‹è°ƒç”¨æ¥è°ƒå–Hessian_Serverä¸­çš„å®ç°ç±»æ–¹æ³•ï¼Œå…·ä½“çš„å¦‚ä½•é…ç½®å¯ä»¥å¾€ä¸‹ç»§ç»­é˜…è¯»ã€‚</p>
<p>ä¸‰ã€Hessian_Serverå·¥ç¨‹æä¾›Serviceå±‚APIæ¥å£<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class HessionExportConfig &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private CalmWangUserServiceI calmWangUserService;</span><br><span class="line"></span><br><span class="line">    @Bean(name = &quot;/calmWangUserServiceExporter.hessian&quot;)</span><br><span class="line">    public HessianServiceExporter accountService() &#123;</span><br><span class="line">        HessianServiceExporter exporter = new HessianServiceExporter();</span><br><span class="line">        exporter.setService(calmWangUserService);</span><br><span class="line">        exporter.setServiceInterface(CalmWangUserServiceI.class);</span><br><span class="line">        return exporter;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä»£ç è¯´æ˜ï¼š<br>1ã€HessianServiceExporterå£°æ˜çš„exporterä¼šä»¥HttpæœåŠ¡çš„å½¢å¼æš´éœ²ç»™å®¢æˆ·ç«¯ï¼ŒåŒæ—¶exporterå¯¹è±¡éœ€è®¾ç½®ä¸¤ä¸ªå±æ€§ï¼š(1)ã€serviceå±æ€§ï¼Œç”¨äºå…³è”çœŸæ­£çš„serviceå¯¹è±¡;(2)ã€serviceInterfaceå±æ€§ï¼Œç”¨äºæŒ‡å®šå½“å‰çš„æœåŠ¡å¯¹åº”çš„æ¥å£ã€‚<br>2ã€@Bean(name=â€/calmWangUserServiceExporter.hessianâ€)è¡¨ç¤ºè®¾ç½®HessianServiceExporter exporterå¯¹è±¡çš„åç§°ä¸ºâ€calmWangUserServiceExporter.hessianâ€ï¼Œåç§°å¯ä»¥éšä¾¿å–ï¼Œä½†æ˜¯éœ€è®°ä½ï¼Œå› ä¸ºClientå·¥ç¨‹åœ¨è°ƒç”¨æ—¶ä¼šç”¨åˆ°ã€‚</p>
<p>å››ã€Hessian_Clientå·¥ç¨‹è°ƒç”¨Hessian_Server serviceå±‚APIæ¥å£<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@Configuration</span><br><span class="line">public class HessianClientConfig &#123;</span><br><span class="line"></span><br><span class="line">    @Bean</span><br><span class="line">    public HessianProxyFactoryBean clientConfig()&#123;</span><br><span class="line">        HessianProxyFactoryBean proxy = new HessianProxyFactoryBean();</span><br><span class="line">        proxy.setServiceUrl(&quot;http://127.0.0.1:8911/calmWangUserServiceExporter.hessian&quot;);</span><br><span class="line">        proxy.setServiceInterface(CalmWangUserServiceI.class);</span><br><span class="line">        return proxy;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä»£ç è¯´æ˜ï¼š<br>å¯¹äºå®¢æˆ·ç«¯é€šè¿‡Hessianè°ƒç”¨è¿œç¨‹çš„æœåŠ¡ï¼Œéœ€è¦åœ¨Springå®¹å™¨ä¸­æ³¨å…¥HessianProxyFactoryBeanå¯¹è±¡ï¼Œè¯¥å¯¹è±¡éœ€è¦æŒ‡å®šä¸¤ä¸ªå±æ€§ï¼š(1)ã€serviceInterfaceå±æ€§ï¼Œè¡¨ç¤ºå½“å‰è¯·æ±‚çš„è¿œç¨‹æœåŠ¡å¯¹åº”çš„æ¥å£;(2)ã€serviceUrlå±æ€§ï¼Œè¡¨ç¤ºå½“å‰çš„è¿œç¨‹æœåŠ¡å¯¹åº”çš„HessianæœåŠ¡ç«¯æä¾›APIæ¥å£çš„è¯·æ±‚åœ°å€ã€‚</p>
<p>äº”ã€å·¥ç¨‹æ–‡ä»¶å­˜å‚¨è·¯å¾„ä»¥åŠHessian_Server serviceå®ç°ç±»å±•ç¤º<br>å®Œæˆä¸‰ã€å››ä¸¤ä¸ªæ­¥éª¤ï¼Œæš´éœ²APIå’Œå¼•å…¥APIçš„é…ç½®å·²ç»å®Œæˆï¼Œæä¾›ä¸‹Hessian_Serverå’ŒHessian_Clientå·¥ç¨‹ä¸­serviceç›¸å…³æ–‡ä»¶å­˜å‚¨è·¯å¾„ä»¥åŠHessian_Clientæ‰€è¦è°ƒç”¨Hessian_Server serviceå®ç°ç±»çš„æ–¹æ³•ã€‚</p>
<p>Hessian_Server å·¥ç¨‹serviceç›¸å…³æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„<br><br><img src="http://obbgpy87z.bkt.clouddn.com/blog_hessian_server.png" alt="hessian_server"></p>
<p>Hessian_Client å·¥ç¨‹serviceç›¸å…³æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„<br><br><img src="http://obbgpy87z.bkt.clouddn.com/blog_hessian_client.png" alt="hessian_client"></p>
<p>Hessian_Server å·¥ç¨‹serviceå®ç°ç±»è·å–æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯çš„æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@Service</span><br><span class="line">public class CalmWangUserServiceImpl implements CalmWangUserServiceI &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private CalmWangUserDao miaoGeUserDao;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public List&lt;CalmWangUserModel&gt; findUserList() &#123;</span><br><span class="line">        List&lt;CalmWangUserModel&gt; users = miaoGeUserDao.findAll();</span><br><span class="line">        return users;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å…­ã€Hessian_Client è°ƒç”¨è¿œç¨‹æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">@RequestMapping(&quot;/hessian&quot;)</span><br><span class="line">public class HessianController &#123;</span><br><span class="line"></span><br><span class="line">    @Autowired</span><br><span class="line">    private CalmWangUserServiceI calmWangUserService;</span><br><span class="line"></span><br><span class="line">    @RequestMapping(&quot;/findUserListJson&quot;)</span><br><span class="line">    public List&lt;CalmWangUserModel&gt; findUserListJson()&#123;</span><br><span class="line">        List&lt;CalmWangUserModel&gt; users = calmWangUserService.findUserList();</span><br><span class="line">        return users;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œç»“æœï¼šå¯ä»¥è·å–åˆ°userè¡¨æ‰€æœ‰çš„ç”¨æˆ·æ•°æ®ã€‚</p>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>è§£å†³æ–‡ç« ä¸€å¼€å§‹æŠ›å‡ºçš„é—®é¢˜çš„æ–¹æ³•æœ‰å¾ˆå¤šç§ï¼Œæ­¤ç¯‡åªæ˜¯æä¾›äº†ä¸€ç§å®ç°æ–¹å¼ä¾›å¤§å®¶å‚è€ƒã€‚æœ€åè¿˜æ˜¯ç†Ÿæ‚‰çš„å¥—è·¯ï¼šç«¥é‹ä»¬å¦‚æœæœ‰åˆ«çš„è§£å†³é—®é¢˜çš„æ–¹å¼å¯ä»¥åŠ æˆ‘å¾®ä¿¡ï¼šwjd632479475ï¼Œå¸Œæœ›èƒ½å’Œä½ è®¤è¯†ã€‚</p>
<p>é™„[GitHubé¡¹ç›®é“¾æ¥åœ°å€]<br><a href="https://github.com/JiongJiongGe/HessianServer" target="_blank" rel="noopener">https://github.com/JiongJiongGe/HessianServer</a><br><a href="https://github.com/JiongJiongGe/HessianClient" target="_blank" rel="noopener">https://github.com/JiongJiongGe/HessianClient</a></p>
<p>Linksï¼š<br><a href="http://www.cnblogs.com/ontheroad_lee/p/3797239.htm" target="_blank" rel="noopener">http://www.cnblogs.com/ontheroad_lee/p/3797239.htm</a></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/hessian/">hessian</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2018 äº‘å¼€
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>